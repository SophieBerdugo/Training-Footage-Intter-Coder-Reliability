---
title: "ZD Training Footage Inter-Coder Reliability"
author: "Sophie Berdugo"
date: "16/04/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Video UID: f1acdcbb-c0d2-4a5d-98e4-e6d5986f15e1
## Video Observation Date: 2012-02-02 
## Video Observation Time: 15:58:34

## Rater 1: Sophie Berdugo
## Rater 2: Zhangzhuoran Dai

Load the `irr` package to retrieve packages relating to inter-rater reliability.
```{r message=FALSE, warning=FALSE}
library(irr)
```

# Variables
This analysis involves establishing the levels of inter-rater reliability for various variables relating to adult nut-cracking efficiency and model investment. These variables are:

* Bout outcome
* Strikes per nut
* Displacement rate
* Tool switch rate
* Bout duration
* Average strike duration
* Learner
* Maternal model
* Learner name
* Model tolerance
* Model intolerance

The inter-rater reliability analysis utilised depends on the level of measurement of each variable under investigation. The levels of measurement and corresponding test of inter rater reliability for each variable can be found in Table 1, below:

*Table 1*

| Variable                | Level of Measurement | Approach                           |
| :---------------------- | :------------------- | :--------------------------------- |
| Bout outcome            | Nominal              | Cohen's kappa                      |
| Strikes per nut         | Ratio                | Intraclass correlation coefficient |
| Displacement rate       | Ratio                | Intraclass correlation coefficient |
| Tool switch rate        | Ratio                | Intraclass correlation coefficient |
| Bout duration           | Ratio                | Intraclass correlation coefficient |
| Average strike duration | Ratio                | Intraclass correlation coefficient |
| Learner                 | Nominal              | Cohen's kappa                      |
| Maternal model          | Nominal              | Cohen's kappa                      |
| Learner name            | Nominal              | Cohen's kappa                      |
| Model tolerance         | Nominal              | Cohen's kappa                      |
| Model intolerance       | Nominal              | Cohen's kappa                      |

### Bout outcome

The three potential bout outcomes are:

1. *Successful* - The nut is cracked open using the hammer and anvil composite and the full kernel is retrieved and eaten by an individual (not necessarily by focal subject, if kernel is scrounged). 
2. *Smash* - The nut is cracked open using hammer and anvil, but the kernel is smashed into multiple pieces and each piece is eaten separately.
3. *Failed* - A different nut is placed on the anvil following displacement of the original nut; or, the nut is not retrieved or not eaten by any individual. 

This data is nominal so an unweighted Cohen's kappa will be used to establish the concordance between two independent observers. 
rater1 = SB, rater2 = ZD

Import data frame as csv file.
```{r message=FALSE, warning=FALSE}
library(tidyverse)
bout_outcome <- read_csv("~/Documents/Oxford/DPhil/Project Components/Inter-Coder Reliability/Data/Zhangzhuoran Dai/Training Data/Individual variable data/Bout outcome.csv")
bout_outcome
```
Calculate Cohen's kappa for two coders.
?kappa2
```{r}
kappa2(bout_outcome[,c(1,2)], "unweighted")
```

### Learner

The Learner variable describes whether or not there was a conspecific who was present during the focal individual's nut-cracking bout. The three options for coding were:

1. *Watching* - There is a learner watching the focal subject during the nut-cracking bout, whereby the learner’s face is oriented toward the model’s hand or arm during the bout.
2. *Interacting* - There is a learner present, and they are interacting with the focal subject (for example, touching arm or body of model, climbing on model).
3. *Solo* - There is no learner with the focal individual during their nut-cracking bout.

This data is nominal so an unweighted Cohen's kappa will be used to establish the concordance between two independent observers. 
rater1 = SB, rater2 = ZD


Import data frame as csv file.
```{r message=FALSE, warning=FALSE}
learner <- read_csv("~/Documents/Oxford/DPhil/Project Components/Inter-Coder Reliability/Data/Zhangzhuoran Dai/Training Data/Individual variable data/Learner.csv")
learner
```

Calculate Cohen's kappa for two coders.
```{r}
kappa2(learner[,c(1,2)], "unweighted")
```